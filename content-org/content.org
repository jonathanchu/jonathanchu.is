#+hugo_base_dir: ..
* Posts
:PROPERTIES:
:EXPORT_HUGO_SECTION: posts
:END:
** TODO New blog again
:PROPERTIES:
:EXPORT_DATE: 2020-07-12T00:00:00-04:00
:EXPORT_DESCRIPTION: "“
:EXPORT_FILE_NAME: new-blog-again-redux-two
:END:
Example post
** EmacsConf 2019 Magit Deep Dive
:PROPERTIES:
:EXPORT_DATE: 2020-04-07T00:00:00-04:00
:EXPORT_DESCRIPTION: "“
:EXPORT_FILE_NAME: emacsconf2019-magit-deep-dive
:END:
I was fortunate enough to get to present at EmacsConf 2019 in November of last year and I wanted to share the content from my presentation:

{{<youtube vS7YNdl64gY>}}

And here's the source for my org slides on GitHub:

https://github.com/jonathanchu/emacsconf-2019-magit-deep-dive
** Emacs, Notmuch, isync, and msmtp Setup                               :emacs:
:PROPERTIES:
:EXPORT_DATE: 2020-06-23T00:00:00-04:00
:EXPORT_DESCRIPTION: "How to setup notmuch, isync, and msmtp with Emacs.“
:EXPORT_FILE_NAME: emacs-notmuch-isync-msmtp-setup
:END:
I've been meaning to move my email management to Emacs for the past year and finally made the jump after see [[https://cestlaz.github.io/stories/emacs/][Mike Zamansky's]] video on this ([[https://www.youtube.com/watch?v=GlrsoIwJ-UM][YouTube]]). Here are my notes on how I got this all setup and configured.

This is an opinionated setup based on Mac OS X and Fastmail. First, make sure you have [[https://brew.sh/][Homebrew]] installed to install the packages needed.

**** Receiving email

[[https://notmuchmail.org/][Notmuch]] requires email to be stored on your local filesystem and one message per file. We'll be using =isync= for this.

#+BEGIN_SRC shell
$ brew install isync
#+END_SRC

http://isync.sourceforge.net/

You'll need to start out with an initial config which you can copy directly to your home directory.

My =.mbsyncrc= file looks like this:

#+BEGIN_SRC
# First section: remote IMAP account
IMAPAccount fastmail
Host imap.fastmail.com
Port 993
User jonathanchu@fastmail.com
# For simplicity, this is how to read the password from another file.
# For better security you should use GPG https://gnupg.org/
PassCmd "cat ~/.mbsync-fastmail"
SSLType IMAPS
SSLVersions TLSv1.2

IMAPStore fastmail-remote
Account fastmail

# This section describes the local storage
MaildirStore fastmail-local
Path ~/Maildir/
Inbox ~/Maildir/INBOX
SubFolders Verbatim

# This section a "channel", a connection between remote and local
Channel fastmail
Master :fastmail-remote:
Slave :fastmail-local:
Patterns *
Expunge None
CopyArrivalDate yes
Sync All
Create Slave
SyncState *
#+END_SRC

The contents of =.mbsync-fastmail= contains my email password, which is probably not the best way to do store a password like this locally so I should fix this in the near future.

Once this is configured and saved in your home directory, you can then run run =mbsync= to pull your email down locally:

#+BEGIN_SRC shell
$ mbsync -a
#+END_SRC

Note, you'll have to run this each time to retrieve new mail. I know some folks might elect to have this as a running cron job every x minutes - this can be entirely based on your preference and email workflow.

**** Viewing and writing email

We're going to use =Notmuch=, specifically in Emacs, to view our mail. First, you need to install =Notmuch= on your OS:

#+BEGIN_SRC shell
$ brew install notmuch
#+END_SRC

Once =notmuch= is installed, run the following command to setup =notmuch=. This will create a =.notmuch-config= in your home directory.

#+BEGIN_SRC shell
$ notmuch setup
#+END_SRC

When you have entered your email information, in your Emacs configuration, you can install =notmuch-emacs= by including the following:

#+BEGIN_SRC elisp
(use-package notmuch
  :ensure t
  :defer t)
#+END_SRC

Then, you can run =m-x notmuch-hello= and you will be greeted with the =notmuch= starting screen.

#+CAPTION: m-x notmuch-hello
#+NAME: fig:notmuch-hello
[[/images/notmuch-hello.png]]

#+CAPTION: notmuch unread
#+NAME: fig:notmuch unread
[[/images/notmuch-unread.png]]

**** Sending email
Next, we'll need to send our mail with something, so I chose =msmtp= because of how easy it was to configure.

#+BEGIN_SRC shell
$ brew install msmtp
#+END_SRC

The contents of my =.msmtprc= file looks like this:

#+BEGIN_SRC
defaults
auth on
protocol smtp
tls on

account fastmail
host smtp.fastmail.com
port 465
user jonathanchu@fastmail.com
passwordeval "cat ~/.mbsync-fastmail"
tls_starttls off
from jonathanchu@fastmail.com

account default : fastmail
#+END_SRC

This article will be updated as I refine my email process and work out the bugs, but at this point you should have working email with Notmuch in Emacs!

*** TODO Dark mode toggle for iTerm and Emacs
 :PROPERTIES:
 :EXPORT_DATE: 2020-07-12T00:00:00-04:00
 :EXPORT_DESCRIPTION: "How to do dark and light mode toggle with iTerm and Emacs“
 :EXPORT_FILE_NAME: dark-mode-toggle-emacs-iterm
 :END:

* Notes
:PROPERTIES:
:EXPORT_HUGO_SECTION: notes
:END:
** Leiningen Basics
:PROPERTIES:
:EXPORT_DATE: 2019-08-15T00:00:00-04:00
:EXPORT_FILE_NAME: leiningen-basics
:EXPORT_HUGO_CODE_FENCE: t
:END:
For Mac OS X, you can install =leiningen= via =homebrew=:
#+BEGIN_SRC shell
brew install leiningen
#+END_SRC
*** =lein run=
Runs the current leiningen project.
*** =lein uberjar=
Compiles the project in a standalone binary so it can be invoked by =java -jar target/uberjar/clojure-noob-0.1.0-SNAPSHOT-standalone.jar=.
*** =lein repl=
Start a REPL for experimenting with code.
** Paredit Basics
:PROPERTIES:
:EXPORT_DATE: 2019-08-15T00:00:00-04:00
:EXPORT_FILE_NAME: paredit-basics
:EXPORT_HUGO_CODE_FENCE: t
:END:
The =|= character is where our cursor is for purposes of visualizing where to invoke these methods.
*** =paredit-wrap-round=
Let's wrap the =2= here.
#+BEGIN_SRC emacs-lisp
(+ 1 |2 3 4)
;; Keybinding M-(
(+ 1 (2) 3 4)
#+END_SRC
*** =paredit-forward-slurp-sexp=
And after we wrap the =2=, we type =*= and want to slurp in the =3=.
#+BEGIN_SRC emacs-lisp
(+ 1 (* |2) 3 4)
;; Keybinding C-)
(+ 1 (* 2 3) 4)
#+END_SRC
*** =paredit-forward-barf-sexp=
Oops, we slurped in the =4= by accident!  Let's unslurp it by barfing it out.
#+BEGIN_SRC emacs-lisp
(+ 1 (* 2 3 |4))
;; Keybinding C-}
(+ 1 (* 2 3) 4)
#+END_SRC
*** =paredit-splice-sexp-killing-backward=
#+BEGIN_SRC emacs-lisp
(def process-bags
     (comp
      (mapcatting unbundled-pallet)
      (filtering non-food?)|
      (mapping heavy-label))pp)
;; Keybinding M-<up arrow>
(def process-bags
     (mapping heavy-label))
#+END_SRC
** Clojure Basics
:PROPERTIES:
:EXPORT_DATE: 2019-08-16T00:00:00-04:00
:EXPORT_FILE_NAME: clojure-basics
:EXPORT_HUGO_CODE_FENCE: t
:END:
These are my notes as I go through the book [[https://www.braveclojure.com/][Clojure for the Brave and True]]
*** Control Flow
**** if
#+BEGIN_SRC clojure
(if boolean-form
  then-form
  optional-else-form)
#+END_SRC
**** do
#+BEGIN_SRC clojure

#+END_SRC

**** when
#+BEGIN_SRC clojure

#+END_SRC

* Projects
:PROPERTIES:
:EXPORT_HUGO_SECTION: /
:EXPORT_FILE_NAME: projects
:END:
- dotemacs
- magit-git-toolbelt
- magit-git-plumbing
- atom-one-dark-theme
- emacs-horizon-theme
- emacs-powerline (deprecated)

* About
:PROPERTIES:
:EXPORT_HUGO_SECTION: /
:EXPORT_FILE_NAME: about
:END:
Hello! My name is Jonathan Chu and this is my personal website. I'm a
software engineer currently living in New Jersey with a passion for
Python web development. This site is intended to be a place to share
the things I've learned along the way.

In late 2010, I founded 3atmospheres, a web development shop based in
New York, where I consulted and worked with a variety of agencies,
small businesses, and startups in New York.  I've been a remote
engineer since 2011.

Here are some other places you can find me on the web:

-  [Twitter](https://twitter.com/jonathanchu)
-  [GitHub](https://github.com/jonathanchu)
-  [Instagram](https://instagram.com/jonathanchu/)
-  [Flickr](https://www.flickr.com/photos/jonnychu/)
-  [LinkedIn](https://www.linkedin.com/in/jonathanchu13)
-  [Keybase](https://keybase.io/jonathanchu)

You can email me anytime at [me@jonathanchu.is](mailto:me@jonathanchu.is).
